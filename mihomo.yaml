port: 7890
allow-lan: true
mode: rule
log-level: warning
external-controller: 127.0.0.1:9090
external-ui: ui
unified-delay: true
tcp-concurrent: true
dns:
  enable: true
  use-hosts: true
  use-system-hosts: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
  proxy-server-nameserver:
    - 119.29.29.29
    - 114.114.114.114
  nameserver-policy:
    "rule-set:cn":
    - 119.29.29.29
    - 114.114.114.114
  fake-ip-filter:
    - "*.home.arpa"
    - "*.invalid"
    - "*.lan"
    - "*.local"
    - "*.localdomain"
    - "*.localhost"
    - "+.battle.net"
    - "+.battlenet.com.cn"
    - "+.pool.ntp.org"
    - "+.pub.3gppnetwork.org"
    - "+.stun"
    - "+.stun.*"
    - "lens.l.google.com"
    - "ntp.*.com"
    - "proxy.golang.org"
    - "time.*.com"
    - "time.*.gov"
    - "rule-set:cn"
    - "rule-set:cnip"
    - "rule-set:direct"
    - "rule-set:private"

proxy-groups:
  - name: Emby
    type: select
    include-all: true
    filter: Emby|è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: Netflix
    type: select
    include-all: true
    filter: ðŸ‡¦ðŸ‡·|ðŸ‡µðŸ‡°|ðŸ‡¹ðŸ‡·|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: Steam
    type: select
    include-all: true
    filter: ðŸ‡¦ðŸ‡·|ðŸ‡­ðŸ‡°|ðŸ‡¯ðŸ‡µ|ðŸ‡µðŸ‡°|ðŸ‡¸ðŸ‡¬|ðŸ‡¹ðŸ‡·|ðŸ‡¹ðŸ‡¼
    proxies:
      - DEFAULT
      - DIRECT
  - name: YouTube
    type: select
    include-all: true
    filter: ðŸ‡ºðŸ‡¸
    proxies:
      - DEFAULT
      - DIRECT
  - name: WHITE
    type: select
    include-all: true
    filter: è‡ªå»º
    proxies:
      - DEFAULT
      - DIRECT
  - name: DEFAULT
    include-all: true
    type: select
    proxies:
      - DIRECT

rule-providers:
  ads:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ads-all.mrs
    path: ./ruleset/ads.mrs
    interval: 86400
  ai:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-!cn.mrs
    path: ./ruleset/ai.mrs
    interval: 86400
  cn:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs
    path: ./ruleset/cn.mrs
    interval: 86400
  cnip:
    type: http
    format: mrs
    behavior: ipcidr
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs
    path: ./ruleset/cnip.mrs
    interval: 86400
  direct:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/direct.list
    path: ./ruleset/direct.list
    interval: 86400
  emby:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/emby.list
    path: ./ruleset/emby.list
    interval: 86400
  game:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/game.list
    path: ./ruleset/game.list
    interval: 86400
  github:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs
    path: ./ruleset/github.mrs
    interval: 86400
  google:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs
    path: ./ruleset/google.mrs
    interval: 86400
  netflix:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs
    path: ./ruleset/netflix.mrs
    interval: 86400
  private:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs
    path: ./ruleset/private.mrs
    interval: 86400
  reject:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/reject.list
    path: ./ruleset/reject.list
    interval: 86400
  roku:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/roku.mrs
    path: ./ruleset/roku.mrs
    interval: 86400
  steam:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam.mrs
    path: ./ruleset/steam.mrs
    interval: 86400
  white:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/white.list
    path: ./ruleset/white.list
    interval: 86400
  youtube:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs
    path: ./ruleset/youtube.mrs
    interval: 86400

rules:
  - RULE-SET,white,WHITE
  - RULE-SET,ads,REJECT
  - RULE-SET,reject,REJECT
  - RULE-SET,cn,DIRECT
  - RULE-SET,cnip,DIRECT
  - RULE-SET,direct,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,emby,Emby
  - RULE-SET,netflix,Netflix
  - RULE-SET,game,Steam
  - RULE-SET,steam,Steam
  - RULE-SET,ai,YouTube
  - RULE-SET,github,YouTube
  - RULE-SET,google,YouTube
  - RULE-SET,roku,YouTube
  - RULE-SET,youtube,YouTube
  - MATCH,DEFAULT
