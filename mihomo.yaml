port: 7890
allow-lan: true
mode: rule
log-level: warning
external-controller: 127.0.0.1:9090
external-ui: ui
unified-delay: true
tcp-concurrent: true
dns:
  enable: true
  use-hosts: true
  use-system-hosts: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
  proxy-server-nameserver:
    - 119.29.29.29
    - 114.114.114.114
  nameserver-policy:
    "rule-set:cn":
    - 119.29.29.29
    - 114.114.114.114
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.localhost"
    - "*.localdomain"
    - "*.home.arpa"
    - "*.invalid"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "+.pool.ntp.org"
    - "+.stun"
    - "ntp.*.com"
    - "time.*.com"
    - "time.*.gov"
    - "rule-set:cn"
    - "rule-set:cnip"
    - "rule-set:direct"
    - "rule-set:private"

proxy-groups:
  - name: Emby
    type: select
    include-all: true
    filter: è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: GitHub
    type: select
    include-all: true
    filter: è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: Netflix
    type: select
    include-all: true
    filter: è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: Steam
    type: select
    include-all: true
    filter: è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: YouTube
    type: select
    include-all: true
    filter: è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: EU
    type: select
    include-all: true
    filter: ðŸ‡«ðŸ‡·|ðŸ‡©ðŸ‡ª|ðŸ‡®ðŸ‡¹|ðŸ‡³ðŸ‡±|ðŸ‡ªðŸ‡¸|ðŸ‡¬ðŸ‡§
    proxies:
      - DEFAULT
      - DIRECT
  - name: HK
    type: select
    include-all: true
    filter: ðŸ‡­ðŸ‡°
    proxies:
      - DEFAULT
      - DIRECT
  - name: JP
    type: select
    include-all: true
    filter: ðŸ‡¯ðŸ‡µ
    proxies:
      - DEFAULT
      - DIRECT
  - name: US
    type: select
    include-all: true
    filter: ðŸ‡ºðŸ‡¸
    proxies:
      - DEFAULT
      - DIRECT
  - name: WHITE
    type: select
    include-all: true
    filter: è‡ªå»º|å®žéªŒ|ç›´è¿ž|TEST
    proxies:
      - DEFAULT
      - DIRECT
  - name: DEFAULT
    include-all: true
    type: select
    proxies:
      - DIRECT

rule-providers:
  ads:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ads-all.mrs
    path: ./ruleset/ads.mrs
    interval: 86400
  ai:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-!cn.mrs
    path: ./ruleset/ai.mrs
    interval: 86400
  blizzard:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/blizzard.mrs
    path: ./ruleset/blizzard.mrs
    interval: 86400
  cn:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs
    path: ./ruleset/cn.mrs
    interval: 86400
  cnip:
    type: http
    format: mrs
    behavior: ipcidr
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs
    path: ./ruleset/cnip.mrs
    interval: 86400
  direct:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/direct.list
    path: ./ruleset/direct.list
    interval: 86400
  emby:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/emby.list
    path: ./ruleset/emby.list
    interval: 86400
  eu:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/eu.list
    path: ./ruleset/eu.list
    interval: 86400
  github:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs
    path: ./ruleset/github.mrs
    interval: 86400
  google:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs
    path: ./ruleset/google.mrs
    interval: 86400
  hk:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/hk.list
    path: ./ruleset/hk.list
    interval: 86400
  jp:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/jp.list
    path: ./ruleset/jp.list
    interval: 86400
  netflix:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs
    path: ./ruleset/netflix.mrs
    interval: 86400
  private:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs
    path: ./ruleset/private.mrs
    interval: 86400
  roku:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/roku.mrs
    path: ./ruleset/roku.mrs
    interval: 86400
  steam:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam.mrs
    path: ./ruleset/steam.mrs
    interval: 86400
  us:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/us.list
    path: ./ruleset/us.list
    interval: 86400
  white:
    type: http
    format: text
    behavior: classical
    url: https://raw.githubusercontent.com/yahngming/rules/master/white.list
    path: ./ruleset/white.list
    interval: 86400
  youtube:
    type: http
    format: mrs
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs
    path: ./ruleset/youtube.mrs
    interval: 86400

rules:
  - RULE-SET,white,WHITE
  - RULE-SET,ads,REJECT
  - RULE-SET,cn,DIRECT
  - RULE-SET,cnip,DIRECT
  - RULE-SET,direct,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,emby,Emby
  - RULE-SET,github,GitHub
  - RULE-SET,netflix,Netflix
  - RULE-SET,steam,Steam
  - RULE-SET,youtube,YouTube
  - RULE-SET,eu,EU
  - RULE-SET,hk,HK
  - RULE-SET,jp,JP
  - RULE-SET,ai,US
  - RULE-SET,blizzard,US
  - RULE-SET,google,US
  - RULE-SET,roku,US
  - RULE-SET,us,US
  - MATCH,DEFAULT
